{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cheol\\\\Desktop\\\\front_end\\\\src\\\\components\\\\GradioChat.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Client } from \"https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js\";\n\n// ===== ÏÑ§Ï†ï (ÌïÑÏöîÏãú propsÎ°ú Ï£ºÏûÖ Í∞ÄÎä•) =====\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULTS = {\n  system_prompt: \"You are a helpful assistant.\",\n  temperature: 0.3,\n  top_p: 0.9,\n  top_k: 40,\n  max_new_tokens: 512,\n  repetition_penalty: 1.05\n};\nexport function GradioChat({\n  baseUrl = \"https://2b3b80943a762565f3.gradio.live\",\n  apiName = \"/chat\"\n}) {\n  _s();\n  // ===== DOM refs =====\n  const logRef = useRef(null);\n  const inputRef = useRef(null);\n  const sendRef = useRef(null);\n  const statusRef = useRef(null);\n  const readyRef = useRef(null);\n  const typingRef = useRef(null);\n\n  // ===== ÏÉÅÌÉú =====\n  const [history, setHistory] = useState([]);\n  const [busy, setBusy] = useState(false);\n  const [app, setApp] = useState(null);\n  const [currentJob, setCurrentJob] = useState(null);\n\n  // ÏÑ∏ÏÖò Ìï¥Ïãú(Í≥†Ï†ï)\n  const sessionHash = useMemo(() => crypto.randomUUID(), []);\n\n  // ÏãúÍ∞Ñ Ìè¨Îß∑\n  const getTime = () => new Date().toLocaleTimeString(\"ko-KR\", {\n    hour: \"2-digit\",\n    minute: \"2-digit\"\n  });\n\n  // ===== Ïú†Ìã∏ =====\n  const showTyping = show => {\n    if (typingRef.current) typingRef.current.style.display = show ? \"flex\" : \"none\";\n  };\n  const updateStatus = (text, generating = false) => {\n    if (statusRef.current) {\n      statusRef.current.textContent = text;\n      statusRef.current.classList.toggle(\"generating\", generating);\n    }\n  };\n  const setBusyUI = b => {\n    setBusy(b);\n    showTyping(b);\n    if (sendRef.current) {\n      sendRef.current.disabled = b;\n      sendRef.current.classList.toggle(\"disabled\", b);\n    }\n    updateStatus(b ? \"ÎãµÎ≥Ä ÏÉùÏÑ± Ï§ë\" : \"Ïò®ÎùºÏù∏\", b);\n  };\n  const finishReset = () => {\n    setBusyUI(false);\n    if (inputRef.current) inputRef.current.focus();\n    setCurrentJob(null);\n  };\n\n  // ÎßêÌíçÏÑ† Ï∂îÍ∞Ä\n  const appendBubble = (role, content) => {\n    const logEl = logRef.current;\n    if (!logEl) return;\n    const wrap = document.createElement(\"div\");\n    wrap.className = role === \"user\" ? \"message-wrapper user-wrapper\" : \"message-wrapper bot-wrapper\";\n    const avatar = document.createElement(\"div\");\n    avatar.className = role === \"user\" ? \"avatar user-avatar\" : \"avatar bot-avatar\";\n    avatar.innerHTML = role === \"user\" ? '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/></svg>' : '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-3 12H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1z\"/></svg>';\n    const messageContainer = document.createElement(\"div\");\n    messageContainer.className = \"message-container\";\n    const bubble = document.createElement(\"div\");\n    bubble.className = role === \"user\" ? \"bubble user-bubble\" : \"bubble bot-bubble\";\n    bubble.textContent = content;\n    const time = document.createElement(\"div\");\n    time.className = \"timestamp\";\n    time.textContent = getTime();\n    messageContainer.appendChild(bubble);\n    messageContainer.appendChild(time);\n    if (role === \"user\") {\n      wrap.appendChild(messageContainer);\n      wrap.appendChild(avatar);\n    } else {\n      wrap.appendChild(avatar);\n      wrap.appendChild(messageContainer);\n    }\n    logEl.appendChild(wrap);\n    requestAnimationFrame(() => wrap.classList.add(\"show\"));\n    logEl.scrollTop = logEl.scrollHeight;\n  };\n  const renderFromHistory = h => {\n    const logEl = logRef.current;\n    if (!logEl) return;\n    logEl.innerHTML = \"\";\n    for (const m of h) appendBubble(m.role, m.content);\n  };\n\n  // ===== Ï¥àÍ∏∞ Ïó∞Í≤∞ =====\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      try {\n        const client = await Client.connect(baseUrl, {\n          events: [\"data\", \"status\"]\n        });\n        if (!mounted) return;\n        setApp(client);\n        if (readyRef.current) {\n          readyRef.current.innerHTML = '<span class=\"status-dot online\"></span> Ïó∞Í≤∞Îê®';\n        }\n        updateStatus(\"Ïò®ÎùºÏù∏\");\n        if (inputRef.current) inputRef.current.focus();\n        setTimeout(() => {\n          setHistory(prev => {\n            const next = [...prev, {\n              role: \"assistant\",\n              content: \"ÏïàÎÖïÌïòÏÑ∏Ïöî! ÌîºÏã± Î∞©Ïñ¥ AI Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏ÏûÖÎãàÎã§. ÏùòÏã¨Ïä§Îü¨Ïö¥ Î©îÏãúÏßÄÎÇò ÎßÅÌÅ¨Í∞Ä ÏûàÏúºÏãúÎ©¥ Ïñ∏Ï†úÎì† ÏßàÎ¨∏Ìï¥Ï£ºÏÑ∏Ïöî. üõ°Ô∏è\"\n            }];\n            renderFromHistory(next);\n            return next;\n          });\n        }, 300);\n      } catch (err) {\n        console.error(err);\n        if (readyRef.current) {\n          readyRef.current.innerHTML = '<span class=\"status-dot offline\"></span> Ïó∞Í≤∞ Ïã§Ìå®';\n        }\n        updateStatus(\"Ïò§ÌîÑÎùºÏù∏\");\n      }\n    })();\n    return () => {\n      mounted = false;\n      // Ïä§Ìä∏Î¶º Ï§ëÎã®\n      try {\n        var _currentJob$cancel;\n        currentJob === null || currentJob === void 0 ? void 0 : (_currentJob$cancel = currentJob.cancel) === null || _currentJob$cancel === void 0 ? void 0 : _currentJob$cancel.call(currentJob);\n      } catch {}\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [baseUrl, apiName]);\n\n  // ===== Ï†ÑÏÜ° =====\n  const send = async () => {\n    if (busy) return;\n    if (!inputRef.current) return;\n    const text = inputRef.current.value.trim();\n    if (!text) return;\n    if (!app) {\n      alert(\"ÏÑúÎ≤Ñ Ïó∞Í≤∞ÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî.\");\n      return;\n    }\n    const preHistory = [...history];\n    const newHistory = [...history, {\n      role: \"user\",\n      content: text\n    }];\n    setHistory(newHistory);\n    renderFromHistory(newHistory);\n    inputRef.current.value = \"\";\n    inputRef.current.style.height = \"auto\";\n\n    // ÏßÑÌñâ Ï§ë Ïä§Ìä∏Î¶ºÏù¥ ÏûàÎã§Î©¥ Ï∑®ÏÜå\n    try {\n      var _currentJob$cancel2;\n      currentJob === null || currentJob === void 0 ? void 0 : (_currentJob$cancel2 = currentJob.cancel) === null || _currentJob$cancel2 === void 0 ? void 0 : _currentJob$cancel2.call(currentJob);\n    } catch {}\n    setBusyUI(true);\n    try {\n      const job = app.submit(apiName, [text, preHistory, DEFAULTS.system_prompt, DEFAULTS.temperature, DEFAULTS.top_p, DEFAULTS.top_k, DEFAULTS.max_new_tokens, DEFAULTS.repetition_penalty], {\n        session_hash: sessionHash\n      });\n      setCurrentJob(job);\n      for await (const ev of job) {\n        if (ev.type === \"status\") {\n          var _ref, _ref2, _ev$stage, _ev$status, _ev$status2;\n          const stage = (_ref = (_ref2 = (_ev$stage = ev.stage) !== null && _ev$stage !== void 0 ? _ev$stage : (_ev$status = ev.status) === null || _ev$status === void 0 ? void 0 : _ev$status.stage) !== null && _ref2 !== void 0 ? _ref2 : (_ev$status2 = ev.status) === null || _ev$status2 === void 0 ? void 0 : _ev$status2.status) !== null && _ref !== void 0 ? _ref : \"\";\n          if (stage === \"complete\" || stage === \"error\") {\n            finishReset();\n            break;\n          }\n          continue;\n        }\n        if (ev.type === \"data\") {\n          const [chatState] = ev.data;\n          if (Array.isArray(chatState)) {\n            setHistory(chatState);\n            renderFromHistory(chatState);\n          }\n        }\n      }\n    } catch (e) {\n      console.error(\"stream error:\", e);\n      updateStatus(\"Ïò§Î•ò Î∞úÏÉù\");\n    } finally {\n      finishReset();\n    }\n  };\n\n  // ÏûÖÎ†•Ï∞Ω ÏûêÎèô ÎÜíÏù¥ & Îã®Ï∂ïÌÇ§\n  const onInput = () => {\n    if (!inputRef.current) return;\n    inputRef.current.style.height = \"auto\";\n    inputRef.current.style.height = Math.min(inputRef.current.scrollHeight, 120) + \"px\";\n  };\n  const onKeyDown = e => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      send();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"gradio-chat-root\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bot-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bot-avatar-header\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 24 24\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bot-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"\\uD53C\\uC2F1 \\uBC29\\uC5B4 AI \\uC5B4\\uC2DC\\uC2A4\\uD134\\uD2B8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-bar\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                id: \"ready\",\n                ref: readyRef,\n                children: \"\\u23F3 \\uC5F0\\uACB0 \\uC911...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u2022\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                id: \"status\",\n                ref: statusRef,\n                children: \"\\uB300\\uAE30 \\uC911\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"log\",\n        ref: logRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"typing-indicator\",\n        ref: typingRef,\n        style: {\n          display: \"none\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar bot-avatar\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-3 12H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"typing-bubble\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"typing-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"typing-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"typing-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"msg\",\n            ref: inputRef,\n            rows: 1,\n            placeholder: \"\\uC758\\uC2EC\\uC2A4\\uB7EC\\uC6B4 \\uBA54\\uC2DC\\uC9C0\\uB098 \\uB9C1\\uD06C\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694...\",\n            onInput: onInput,\n            onKeyDown: onKeyDown\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"send\",\n            ref: sendRef,\n            onClick: send,\n            children: \"\\uC804\\uC1A1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 5\n  }, this);\n}\n_s(GradioChat, \"KNrSiSb7fUYl77KuA56CpMFnLng=\");\n_c = GradioChat;\nvar _c;\n$RefreshReg$(_c, \"GradioChat\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","Client","jsxDEV","_jsxDEV","DEFAULTS","system_prompt","temperature","top_p","top_k","max_new_tokens","repetition_penalty","GradioChat","baseUrl","apiName","_s","logRef","inputRef","sendRef","statusRef","readyRef","typingRef","history","setHistory","busy","setBusy","app","setApp","currentJob","setCurrentJob","sessionHash","crypto","randomUUID","getTime","Date","toLocaleTimeString","hour","minute","showTyping","show","current","style","display","updateStatus","text","generating","textContent","classList","toggle","setBusyUI","b","disabled","finishReset","focus","appendBubble","role","content","logEl","wrap","document","createElement","className","avatar","innerHTML","messageContainer","bubble","time","appendChild","requestAnimationFrame","add","scrollTop","scrollHeight","renderFromHistory","h","m","mounted","client","connect","events","setTimeout","prev","next","err","console","error","_currentJob$cancel","cancel","call","send","value","trim","alert","preHistory","newHistory","height","_currentJob$cancel2","job","submit","session_hash","ev","type","_ref","_ref2","_ev$stage","_ev$status","_ev$status2","stage","status","chatState","data","Array","isArray","e","onInput","Math","min","onKeyDown","key","shiftKey","preventDefault","children","viewBox","fill","d","fileName","_jsxFileName","lineNumber","columnNumber","id","ref","rows","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Cheol/Desktop/front_end/src/components/GradioChat.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { Client } from \"https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js\";\r\n\r\n// ===== ÏÑ§Ï†ï (ÌïÑÏöîÏãú propsÎ°ú Ï£ºÏûÖ Í∞ÄÎä•) =====\r\nconst DEFAULTS = {\r\n  system_prompt: \"You are a helpful assistant.\",\r\n  temperature: 0.3,\r\n  top_p: 0.9,\r\n  top_k: 40,\r\n  max_new_tokens: 512,\r\n  repetition_penalty: 1.05,\r\n};\r\n\r\nexport function GradioChat({\r\n  baseUrl = \"https://2b3b80943a762565f3.gradio.live\",\r\n  apiName = \"/chat\",\r\n}) {\r\n  // ===== DOM refs =====\r\n  const logRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n  const sendRef = useRef(null);\r\n  const statusRef = useRef(null);\r\n  const readyRef = useRef(null);\r\n  const typingRef = useRef(null);\r\n\r\n  // ===== ÏÉÅÌÉú =====\r\n  const [history, setHistory] = useState([]);\r\n  const [busy, setBusy] = useState(false);\r\n  const [app, setApp] = useState(null);\r\n  const [currentJob, setCurrentJob] = useState(null);\r\n\r\n  // ÏÑ∏ÏÖò Ìï¥Ïãú(Í≥†Ï†ï)\r\n  const sessionHash = useMemo(() => crypto.randomUUID(), []);\r\n\r\n  // ÏãúÍ∞Ñ Ìè¨Îß∑\r\n  const getTime = () =>\r\n    new Date().toLocaleTimeString(\"ko-KR\", { hour: \"2-digit\", minute: \"2-digit\" });\r\n\r\n  // ===== Ïú†Ìã∏ =====\r\n  const showTyping = (show) => {\r\n    if (typingRef.current) typingRef.current.style.display = show ? \"flex\" : \"none\";\r\n  };\r\n\r\n  const updateStatus = (text, generating = false) => {\r\n    if (statusRef.current) {\r\n      statusRef.current.textContent = text;\r\n      statusRef.current.classList.toggle(\"generating\", generating);\r\n    }\r\n  };\r\n\r\n  const setBusyUI = (b) => {\r\n    setBusy(b);\r\n    showTyping(b);\r\n    if (sendRef.current) {\r\n      sendRef.current.disabled = b;\r\n      sendRef.current.classList.toggle(\"disabled\", b);\r\n    }\r\n    updateStatus(b ? \"ÎãµÎ≥Ä ÏÉùÏÑ± Ï§ë\" : \"Ïò®ÎùºÏù∏\", b);\r\n  };\r\n\r\n  const finishReset = () => {\r\n    setBusyUI(false);\r\n    if (inputRef.current) inputRef.current.focus();\r\n    setCurrentJob(null);\r\n  };\r\n\r\n  // ÎßêÌíçÏÑ† Ï∂îÍ∞Ä\r\n  const appendBubble = (role, content) => {\r\n    const logEl = logRef.current;\r\n    if (!logEl) return;\r\n\r\n    const wrap = document.createElement(\"div\");\r\n    wrap.className = role === \"user\" ? \"message-wrapper user-wrapper\" : \"message-wrapper bot-wrapper\";\r\n\r\n    const avatar = document.createElement(\"div\");\r\n    avatar.className = role === \"user\" ? \"avatar user-avatar\" : \"avatar bot-avatar\";\r\n    avatar.innerHTML =\r\n      role === \"user\"\r\n        ? '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/></svg>'\r\n        : '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-3 12H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1z\"/></svg>';\r\n\r\n    const messageContainer = document.createElement(\"div\");\r\n    messageContainer.className = \"message-container\";\r\n\r\n    const bubble = document.createElement(\"div\");\r\n    bubble.className = role === \"user\" ? \"bubble user-bubble\" : \"bubble bot-bubble\";\r\n    bubble.textContent = content;\r\n\r\n    const time = document.createElement(\"div\");\r\n    time.className = \"timestamp\";\r\n    time.textContent = getTime();\r\n\r\n    messageContainer.appendChild(bubble);\r\n    messageContainer.appendChild(time);\r\n\r\n    if (role === \"user\") {\r\n      wrap.appendChild(messageContainer);\r\n      wrap.appendChild(avatar);\r\n    } else {\r\n      wrap.appendChild(avatar);\r\n      wrap.appendChild(messageContainer);\r\n    }\r\n\r\n    logEl.appendChild(wrap);\r\n    requestAnimationFrame(() => wrap.classList.add(\"show\"));\r\n    logEl.scrollTop = logEl.scrollHeight;\r\n  };\r\n\r\n  const renderFromHistory = (h) => {\r\n    const logEl = logRef.current;\r\n    if (!logEl) return;\r\n    logEl.innerHTML = \"\";\r\n    for (const m of h) appendBubble(m.role, m.content);\r\n  };\r\n\r\n  // ===== Ï¥àÍ∏∞ Ïó∞Í≤∞ =====\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      try {\r\n        const client = await Client.connect(baseUrl, { events: [\"data\", \"status\"] });\r\n        if (!mounted) return;\r\n        setApp(client);\r\n        if (readyRef.current) {\r\n          readyRef.current.innerHTML = '<span class=\"status-dot online\"></span> Ïó∞Í≤∞Îê®';\r\n        }\r\n        updateStatus(\"Ïò®ÎùºÏù∏\");\r\n        if (inputRef.current) inputRef.current.focus();\r\n        setTimeout(() => {\r\n          setHistory((prev) => {\r\n            const next = [\r\n              ...prev,\r\n              {\r\n                role: \"assistant\",\r\n                content:\r\n                  \"ÏïàÎÖïÌïòÏÑ∏Ïöî! ÌîºÏã± Î∞©Ïñ¥ AI Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏ÏûÖÎãàÎã§. ÏùòÏã¨Ïä§Îü¨Ïö¥ Î©îÏãúÏßÄÎÇò ÎßÅÌÅ¨Í∞Ä ÏûàÏúºÏãúÎ©¥ Ïñ∏Ï†úÎì† ÏßàÎ¨∏Ìï¥Ï£ºÏÑ∏Ïöî. üõ°Ô∏è\",\r\n              },\r\n            ];\r\n            renderFromHistory(next);\r\n            return next;\r\n          });\r\n        }, 300);\r\n      } catch (err) {\r\n        console.error(err);\r\n        if (readyRef.current) {\r\n          readyRef.current.innerHTML = '<span class=\"status-dot offline\"></span> Ïó∞Í≤∞ Ïã§Ìå®';\r\n        }\r\n        updateStatus(\"Ïò§ÌîÑÎùºÏù∏\");\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      mounted = false;\r\n      // Ïä§Ìä∏Î¶º Ï§ëÎã®\r\n      try {\r\n        currentJob?.cancel?.();\r\n      } catch {}\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [baseUrl, apiName]);\r\n\r\n  // ===== Ï†ÑÏÜ° =====\r\n  const send = async () => {\r\n    if (busy) return;\r\n    if (!inputRef.current) return;\r\n    const text = inputRef.current.value.trim();\r\n    if (!text) return;\r\n    if (!app) {\r\n      alert(\"ÏÑúÎ≤Ñ Ïó∞Í≤∞ÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî.\");\r\n      return;\r\n    }\r\n\r\n    const preHistory = [...history];\r\n    const newHistory = [...history, { role: \"user\", content: text }];\r\n    setHistory(newHistory);\r\n    renderFromHistory(newHistory);\r\n    inputRef.current.value = \"\";\r\n    inputRef.current.style.height = \"auto\";\r\n\r\n    // ÏßÑÌñâ Ï§ë Ïä§Ìä∏Î¶ºÏù¥ ÏûàÎã§Î©¥ Ï∑®ÏÜå\r\n    try {\r\n      currentJob?.cancel?.();\r\n    } catch {}\r\n\r\n    setBusyUI(true);\r\n\r\n    try {\r\n      const job = app.submit(\r\n        apiName,\r\n        [\r\n          text,\r\n          preHistory,\r\n          DEFAULTS.system_prompt,\r\n          DEFAULTS.temperature,\r\n          DEFAULTS.top_p,\r\n          DEFAULTS.top_k,\r\n          DEFAULTS.max_new_tokens,\r\n          DEFAULTS.repetition_penalty,\r\n        ],\r\n        { session_hash: sessionHash }\r\n      );\r\n      setCurrentJob(job);\r\n\r\n      for await (const ev of job) {\r\n        if (ev.type === \"status\") {\r\n          const stage = ev.stage ?? ev.status?.stage ?? ev.status?.status ?? \"\";\r\n          if (stage === \"complete\" || stage === \"error\") {\r\n            finishReset();\r\n            break;\r\n          }\r\n          continue;\r\n        }\r\n        if (ev.type === \"data\") {\r\n          const [chatState] = ev.data;\r\n          if (Array.isArray(chatState)) {\r\n            setHistory(chatState);\r\n            renderFromHistory(chatState);\r\n          }\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error(\"stream error:\", e);\r\n      updateStatus(\"Ïò§Î•ò Î∞úÏÉù\");\r\n    } finally {\r\n      finishReset();\r\n    }\r\n  };\r\n\r\n  // ÏûÖÎ†•Ï∞Ω ÏûêÎèô ÎÜíÏù¥ & Îã®Ï∂ïÌÇ§\r\n  const onInput = () => {\r\n    if (!inputRef.current) return;\r\n    inputRef.current.style.height = \"auto\";\r\n    inputRef.current.style.height = Math.min(inputRef.current.scrollHeight, 120) + \"px\";\r\n  };\r\n  const onKeyDown = (e) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      e.preventDefault();\r\n      send();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"gradio-chat-root\">\r\n      {/* Ìó§Îçî */}\r\n      <header>\r\n        <div className=\"header-left\">\r\n          <div className=\"bot-info\">\r\n            <div className=\"bot-avatar-header\">\r\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"bot-details\">\r\n              <h1>ÌîºÏã± Î∞©Ïñ¥ AI Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏</h1>\r\n              <div className=\"status-bar\">\r\n                <span id=\"ready\" ref={readyRef}>\r\n                  ‚è≥ Ïó∞Í≤∞ Ï§ë...\r\n                </span>\r\n                <span>‚Ä¢</span>\r\n                <span id=\"status\" ref={statusRef}>\r\n                  ÎåÄÍ∏∞ Ï§ë\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Î≥∏Î¨∏ */}\r\n      <main>\r\n        <div id=\"log\" ref={logRef} />\r\n        <div id=\"typing-indicator\" ref={typingRef} style={{ display: \"none\" }}>\r\n          <div className=\"avatar bot-avatar\">\r\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n              <path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-3 12H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1z\" />\r\n            </svg>\r\n          </div>\r\n          <div className=\"typing-bubble\">\r\n            <span className=\"typing-dot\" />\r\n            <span className=\"typing-dot\" />\r\n            <span className=\"typing-dot\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"input-container\">\r\n          <div className=\"input-wrapper\">\r\n            <textarea\r\n              id=\"msg\"\r\n              ref={inputRef}\r\n              rows={1}\r\n              placeholder=\"ÏùòÏã¨Ïä§Îü¨Ïö¥ Î©îÏãúÏßÄÎÇò ÎßÅÌÅ¨Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...\"\r\n              onInput={onInput}\r\n              onKeyDown={onKeyDown}\r\n            />\r\n            <button id=\"send\" ref={sendRef} onClick={send}>\r\n              Ï†ÑÏÜ°\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnE,SAASC,MAAM,QAAQ,+DAA+D;;AAEtF;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,QAAQ,GAAG;EACfC,aAAa,EAAE,8BAA8B;EAC7CC,WAAW,EAAE,GAAG;EAChBC,KAAK,EAAE,GAAG;EACVC,KAAK,EAAE,EAAE;EACTC,cAAc,EAAE,GAAG;EACnBC,kBAAkB,EAAE;AACtB,CAAC;AAED,OAAO,SAASC,UAAUA,CAAC;EACzBC,OAAO,GAAG,wCAAwC;EAClDC,OAAO,GAAG;AACZ,CAAC,EAAE;EAAAC,EAAA;EACD;EACA,MAAMC,MAAM,GAAGhB,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAMiB,QAAQ,GAAGjB,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMkB,OAAO,GAAGlB,MAAM,CAAC,IAAI,CAAC;EAC5B,MAAMmB,SAAS,GAAGnB,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMoB,QAAQ,GAAGpB,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMqB,SAAS,GAAGrB,MAAM,CAAC,IAAI,CAAC;;EAE9B;EACA,MAAM,CAACsB,OAAO,EAAEC,UAAU,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACuB,IAAI,EAAEC,OAAO,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACyB,GAAG,EAAEC,MAAM,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAM,CAAC2B,UAAU,EAAEC,aAAa,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;;EAElD;EACA,MAAM6B,WAAW,GAAG/B,OAAO,CAAC,MAAMgC,MAAM,CAACC,UAAU,CAAC,CAAC,EAAE,EAAE,CAAC;;EAE1D;EACA,MAAMC,OAAO,GAAGA,CAAA,KACd,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO,EAAE;IAAEC,IAAI,EAAE,SAAS;IAAEC,MAAM,EAAE;EAAU,CAAC,CAAC;;EAEhF;EACA,MAAMC,UAAU,GAAIC,IAAI,IAAK;IAC3B,IAAIlB,SAAS,CAACmB,OAAO,EAAEnB,SAAS,CAACmB,OAAO,CAACC,KAAK,CAACC,OAAO,GAAGH,IAAI,GAAG,MAAM,GAAG,MAAM;EACjF,CAAC;EAED,MAAMI,YAAY,GAAGA,CAACC,IAAI,EAAEC,UAAU,GAAG,KAAK,KAAK;IACjD,IAAI1B,SAAS,CAACqB,OAAO,EAAE;MACrBrB,SAAS,CAACqB,OAAO,CAACM,WAAW,GAAGF,IAAI;MACpCzB,SAAS,CAACqB,OAAO,CAACO,SAAS,CAACC,MAAM,CAAC,YAAY,EAAEH,UAAU,CAAC;IAC9D;EACF,CAAC;EAED,MAAMI,SAAS,GAAIC,CAAC,IAAK;IACvBzB,OAAO,CAACyB,CAAC,CAAC;IACVZ,UAAU,CAACY,CAAC,CAAC;IACb,IAAIhC,OAAO,CAACsB,OAAO,EAAE;MACnBtB,OAAO,CAACsB,OAAO,CAACW,QAAQ,GAAGD,CAAC;MAC5BhC,OAAO,CAACsB,OAAO,CAACO,SAAS,CAACC,MAAM,CAAC,UAAU,EAAEE,CAAC,CAAC;IACjD;IACAP,YAAY,CAACO,CAAC,GAAG,SAAS,GAAG,KAAK,EAAEA,CAAC,CAAC;EACxC,CAAC;EAED,MAAME,WAAW,GAAGA,CAAA,KAAM;IACxBH,SAAS,CAAC,KAAK,CAAC;IAChB,IAAIhC,QAAQ,CAACuB,OAAO,EAAEvB,QAAQ,CAACuB,OAAO,CAACa,KAAK,CAAC,CAAC;IAC9CxB,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;;EAED;EACA,MAAMyB,YAAY,GAAGA,CAACC,IAAI,EAAEC,OAAO,KAAK;IACtC,MAAMC,KAAK,GAAGzC,MAAM,CAACwB,OAAO;IAC5B,IAAI,CAACiB,KAAK,EAAE;IAEZ,MAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC1CF,IAAI,CAACG,SAAS,GAAGN,IAAI,KAAK,MAAM,GAAG,8BAA8B,GAAG,6BAA6B;IAEjG,MAAMO,MAAM,GAAGH,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC5CE,MAAM,CAACD,SAAS,GAAGN,IAAI,KAAK,MAAM,GAAG,oBAAoB,GAAG,mBAAmB;IAC/EO,MAAM,CAACC,SAAS,GACdR,IAAI,KAAK,MAAM,GACX,8KAA8K,GAC9K,qUAAqU;IAE3U,MAAMS,gBAAgB,GAAGL,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IACtDI,gBAAgB,CAACH,SAAS,GAAG,mBAAmB;IAEhD,MAAMI,MAAM,GAAGN,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC5CK,MAAM,CAACJ,SAAS,GAAGN,IAAI,KAAK,MAAM,GAAG,oBAAoB,GAAG,mBAAmB;IAC/EU,MAAM,CAACnB,WAAW,GAAGU,OAAO;IAE5B,MAAMU,IAAI,GAAGP,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC1CM,IAAI,CAACL,SAAS,GAAG,WAAW;IAC5BK,IAAI,CAACpB,WAAW,GAAGb,OAAO,CAAC,CAAC;IAE5B+B,gBAAgB,CAACG,WAAW,CAACF,MAAM,CAAC;IACpCD,gBAAgB,CAACG,WAAW,CAACD,IAAI,CAAC;IAElC,IAAIX,IAAI,KAAK,MAAM,EAAE;MACnBG,IAAI,CAACS,WAAW,CAACH,gBAAgB,CAAC;MAClCN,IAAI,CAACS,WAAW,CAACL,MAAM,CAAC;IAC1B,CAAC,MAAM;MACLJ,IAAI,CAACS,WAAW,CAACL,MAAM,CAAC;MACxBJ,IAAI,CAACS,WAAW,CAACH,gBAAgB,CAAC;IACpC;IAEAP,KAAK,CAACU,WAAW,CAACT,IAAI,CAAC;IACvBU,qBAAqB,CAAC,MAAMV,IAAI,CAACX,SAAS,CAACsB,GAAG,CAAC,MAAM,CAAC,CAAC;IACvDZ,KAAK,CAACa,SAAS,GAAGb,KAAK,CAACc,YAAY;EACtC,CAAC;EAED,MAAMC,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAMhB,KAAK,GAAGzC,MAAM,CAACwB,OAAO;IAC5B,IAAI,CAACiB,KAAK,EAAE;IACZA,KAAK,CAACM,SAAS,GAAG,EAAE;IACpB,KAAK,MAAMW,CAAC,IAAID,CAAC,EAAEnB,YAAY,CAACoB,CAAC,CAACnB,IAAI,EAAEmB,CAAC,CAAClB,OAAO,CAAC;EACpD,CAAC;;EAED;EACA1D,SAAS,CAAC,MAAM;IACd,IAAI6E,OAAO,GAAG,IAAI;IAClB,CAAC,YAAY;MACX,IAAI;QACF,MAAMC,MAAM,GAAG,MAAM1E,MAAM,CAAC2E,OAAO,CAAChE,OAAO,EAAE;UAAEiE,MAAM,EAAE,CAAC,MAAM,EAAE,QAAQ;QAAE,CAAC,CAAC;QAC5E,IAAI,CAACH,OAAO,EAAE;QACdhD,MAAM,CAACiD,MAAM,CAAC;QACd,IAAIxD,QAAQ,CAACoB,OAAO,EAAE;UACpBpB,QAAQ,CAACoB,OAAO,CAACuB,SAAS,GAAG,6CAA6C;QAC5E;QACApB,YAAY,CAAC,KAAK,CAAC;QACnB,IAAI1B,QAAQ,CAACuB,OAAO,EAAEvB,QAAQ,CAACuB,OAAO,CAACa,KAAK,CAAC,CAAC;QAC9C0B,UAAU,CAAC,MAAM;UACfxD,UAAU,CAAEyD,IAAI,IAAK;YACnB,MAAMC,IAAI,GAAG,CACX,GAAGD,IAAI,EACP;cACEzB,IAAI,EAAE,WAAW;cACjBC,OAAO,EACL;YACJ,CAAC,CACF;YACDgB,iBAAiB,CAACS,IAAI,CAAC;YACvB,OAAOA,IAAI;UACb,CAAC,CAAC;QACJ,CAAC,EAAE,GAAG,CAAC;MACT,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;QAClB,IAAI9D,QAAQ,CAACoB,OAAO,EAAE;UACpBpB,QAAQ,CAACoB,OAAO,CAACuB,SAAS,GAAG,gDAAgD;QAC/E;QACApB,YAAY,CAAC,MAAM,CAAC;MACtB;IACF,CAAC,EAAE,CAAC;IAEJ,OAAO,MAAM;MACXgC,OAAO,GAAG,KAAK;MACf;MACA,IAAI;QAAA,IAAAU,kBAAA;QACFzD,UAAU,aAAVA,UAAU,wBAAAyD,kBAAA,GAAVzD,UAAU,CAAE0D,MAAM,cAAAD,kBAAA,uBAAlBA,kBAAA,CAAAE,IAAA,CAAA3D,UAAqB,CAAC;MACxB,CAAC,CAAC,MAAM,CAAC;IACX,CAAC;IACD;EACF,CAAC,EAAE,CAACf,OAAO,EAAEC,OAAO,CAAC,CAAC;;EAEtB;EACA,MAAM0E,IAAI,GAAG,MAAAA,CAAA,KAAY;IACvB,IAAIhE,IAAI,EAAE;IACV,IAAI,CAACP,QAAQ,CAACuB,OAAO,EAAE;IACvB,MAAMI,IAAI,GAAG3B,QAAQ,CAACuB,OAAO,CAACiD,KAAK,CAACC,IAAI,CAAC,CAAC;IAC1C,IAAI,CAAC9C,IAAI,EAAE;IACX,IAAI,CAAClB,GAAG,EAAE;MACRiE,KAAK,CAAC,eAAe,CAAC;MACtB;IACF;IAEA,MAAMC,UAAU,GAAG,CAAC,GAAGtE,OAAO,CAAC;IAC/B,MAAMuE,UAAU,GAAG,CAAC,GAAGvE,OAAO,EAAE;MAAEiC,IAAI,EAAE,MAAM;MAAEC,OAAO,EAAEZ;IAAK,CAAC,CAAC;IAChErB,UAAU,CAACsE,UAAU,CAAC;IACtBrB,iBAAiB,CAACqB,UAAU,CAAC;IAC7B5E,QAAQ,CAACuB,OAAO,CAACiD,KAAK,GAAG,EAAE;IAC3BxE,QAAQ,CAACuB,OAAO,CAACC,KAAK,CAACqD,MAAM,GAAG,MAAM;;IAEtC;IACA,IAAI;MAAA,IAAAC,mBAAA;MACFnE,UAAU,aAAVA,UAAU,wBAAAmE,mBAAA,GAAVnE,UAAU,CAAE0D,MAAM,cAAAS,mBAAA,uBAAlBA,mBAAA,CAAAR,IAAA,CAAA3D,UAAqB,CAAC;IACxB,CAAC,CAAC,MAAM,CAAC;IAETqB,SAAS,CAAC,IAAI,CAAC;IAEf,IAAI;MACF,MAAM+C,GAAG,GAAGtE,GAAG,CAACuE,MAAM,CACpBnF,OAAO,EACP,CACE8B,IAAI,EACJgD,UAAU,EACVvF,QAAQ,CAACC,aAAa,EACtBD,QAAQ,CAACE,WAAW,EACpBF,QAAQ,CAACG,KAAK,EACdH,QAAQ,CAACI,KAAK,EACdJ,QAAQ,CAACK,cAAc,EACvBL,QAAQ,CAACM,kBAAkB,CAC5B,EACD;QAAEuF,YAAY,EAAEpE;MAAY,CAC9B,CAAC;MACDD,aAAa,CAACmE,GAAG,CAAC;MAElB,WAAW,MAAMG,EAAE,IAAIH,GAAG,EAAE;QAC1B,IAAIG,EAAE,CAACC,IAAI,KAAK,QAAQ,EAAE;UAAA,IAAAC,IAAA,EAAAC,KAAA,EAAAC,SAAA,EAAAC,UAAA,EAAAC,WAAA;UACxB,MAAMC,KAAK,IAAAL,IAAA,IAAAC,KAAA,IAAAC,SAAA,GAAGJ,EAAE,CAACO,KAAK,cAAAH,SAAA,cAAAA,SAAA,IAAAC,UAAA,GAAIL,EAAE,CAACQ,MAAM,cAAAH,UAAA,uBAATA,UAAA,CAAWE,KAAK,cAAAJ,KAAA,cAAAA,KAAA,IAAAG,WAAA,GAAIN,EAAE,CAACQ,MAAM,cAAAF,WAAA,uBAATA,WAAA,CAAWE,MAAM,cAAAN,IAAA,cAAAA,IAAA,GAAI,EAAE;UACrE,IAAIK,KAAK,KAAK,UAAU,IAAIA,KAAK,KAAK,OAAO,EAAE;YAC7CtD,WAAW,CAAC,CAAC;YACb;UACF;UACA;QACF;QACA,IAAI+C,EAAE,CAACC,IAAI,KAAK,MAAM,EAAE;UACtB,MAAM,CAACQ,SAAS,CAAC,GAAGT,EAAE,CAACU,IAAI;UAC3B,IAAIC,KAAK,CAACC,OAAO,CAACH,SAAS,CAAC,EAAE;YAC5BrF,UAAU,CAACqF,SAAS,CAAC;YACrBpC,iBAAiB,CAACoC,SAAS,CAAC;UAC9B;QACF;MACF;IACF,CAAC,CAAC,OAAOI,CAAC,EAAE;MACV7B,OAAO,CAACC,KAAK,CAAC,eAAe,EAAE4B,CAAC,CAAC;MACjCrE,YAAY,CAAC,OAAO,CAAC;IACvB,CAAC,SAAS;MACRS,WAAW,CAAC,CAAC;IACf;EACF,CAAC;;EAED;EACA,MAAM6D,OAAO,GAAGA,CAAA,KAAM;IACpB,IAAI,CAAChG,QAAQ,CAACuB,OAAO,EAAE;IACvBvB,QAAQ,CAACuB,OAAO,CAACC,KAAK,CAACqD,MAAM,GAAG,MAAM;IACtC7E,QAAQ,CAACuB,OAAO,CAACC,KAAK,CAACqD,MAAM,GAAGoB,IAAI,CAACC,GAAG,CAAClG,QAAQ,CAACuB,OAAO,CAAC+B,YAAY,EAAE,GAAG,CAAC,GAAG,IAAI;EACrF,CAAC;EACD,MAAM6C,SAAS,GAAIJ,CAAC,IAAK;IACvB,IAAIA,CAAC,CAACK,GAAG,KAAK,OAAO,IAAI,CAACL,CAAC,CAACM,QAAQ,EAAE;MACpCN,CAAC,CAACO,cAAc,CAAC,CAAC;MAClB/B,IAAI,CAAC,CAAC;IACR;EACF,CAAC;EAED,oBACEpF,OAAA;IAAKyD,SAAS,EAAC,kBAAkB;IAAA2D,QAAA,gBAE/BpH,OAAA;MAAAoH,QAAA,eACEpH,OAAA;QAAKyD,SAAS,EAAC,aAAa;QAAA2D,QAAA,eAC1BpH,OAAA;UAAKyD,SAAS,EAAC,UAAU;UAAA2D,QAAA,gBACvBpH,OAAA;YAAKyD,SAAS,EAAC,mBAAmB;YAAA2D,QAAA,eAChCpH,OAAA;cAAKqH,OAAO,EAAC,WAAW;cAACC,IAAI,EAAC,cAAc;cAAAF,QAAA,eAC1CpH,OAAA;gBAAMuH,CAAC,EAAC;cAAuH;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/H;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACN3H,OAAA;YAAKyD,SAAS,EAAC,aAAa;YAAA2D,QAAA,gBAC1BpH,OAAA;cAAAoH,QAAA,EAAI;YAAc;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvB3H,OAAA;cAAKyD,SAAS,EAAC,YAAY;cAAA2D,QAAA,gBACzBpH,OAAA;gBAAM4H,EAAE,EAAC,OAAO;gBAACC,GAAG,EAAE7G,QAAS;gBAAAoG,QAAA,EAAC;cAEhC;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACP3H,OAAA;gBAAAoH,QAAA,EAAM;cAAC;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACd3H,OAAA;gBAAM4H,EAAE,EAAC,QAAQ;gBAACC,GAAG,EAAE9G,SAAU;gBAAAqG,QAAA,EAAC;cAElC;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAGT3H,OAAA;MAAAoH,QAAA,gBACEpH,OAAA;QAAK4H,EAAE,EAAC,KAAK;QAACC,GAAG,EAAEjH;MAAO;QAAA4G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC7B3H,OAAA;QAAK4H,EAAE,EAAC,kBAAkB;QAACC,GAAG,EAAE5G,SAAU;QAACoB,KAAK,EAAE;UAAEC,OAAO,EAAE;QAAO,CAAE;QAAA8E,QAAA,gBACpEpH,OAAA;UAAKyD,SAAS,EAAC,mBAAmB;UAAA2D,QAAA,eAChCpH,OAAA;YAAKqH,OAAO,EAAC,WAAW;YAACC,IAAI,EAAC,cAAc;YAAAF,QAAA,eAC1CpH,OAAA;cAAMuH,CAAC,EAAC;YAAsQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9Q;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN3H,OAAA;UAAKyD,SAAS,EAAC,eAAe;UAAA2D,QAAA,gBAC5BpH,OAAA;YAAMyD,SAAS,EAAC;UAAY;YAAA+D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC/B3H,OAAA;YAAMyD,SAAS,EAAC;UAAY;YAAA+D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC/B3H,OAAA;YAAMyD,SAAS,EAAC;UAAY;YAAA+D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN3H,OAAA;QAAKyD,SAAS,EAAC,iBAAiB;QAAA2D,QAAA,eAC9BpH,OAAA;UAAKyD,SAAS,EAAC,eAAe;UAAA2D,QAAA,gBAC5BpH,OAAA;YACE4H,EAAE,EAAC,KAAK;YACRC,GAAG,EAAEhH,QAAS;YACdiH,IAAI,EAAE,CAAE;YACRC,WAAW,EAAC,8GAAyB;YACrClB,OAAO,EAAEA,OAAQ;YACjBG,SAAS,EAAEA;UAAU;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtB,CAAC,eACF3H,OAAA;YAAQ4H,EAAE,EAAC,MAAM;YAACC,GAAG,EAAE/G,OAAQ;YAACkH,OAAO,EAAE5C,IAAK;YAAAgC,QAAA,EAAC;UAE/C;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAChH,EAAA,CAjSeH,UAAU;AAAAyH,EAAA,GAAVzH,UAAU;AAAA,IAAAyH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}